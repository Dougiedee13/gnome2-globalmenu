= Introduction =

This has been tested on Ubuntu intrepid ibex but it should work on hardy too. It should also work with other distributions, except for the first step (dependencies install).
Globalmenu works with “real” gtk applications. That means globalmenu will not work with firefox and openoffice.

Big thanks to rainwoodman and lviggiani for their awesome work on this very useful application.

1. Get the required packages to build vala and gnome-globalmenu :

sudo apt-get install build-essential flex bison gnome-common libglib2.0-dev gtk-doc-tools autoconf2.13 automake1.9 libgtk2.0-dev libdbus-glib-1-dev libwnck-dev libpanel-applet2-dev libgnome-menu-dev

2. Get, compile and install vala 0.5.3 :

cd ~/
wget -c http://download.gnome.org/sources/vala/0.5/vala-0.5.1.tar.bz2
tar xjvf vala-0.5.1.tar.bz2
cd vala-0.5.1/
./configure
make
sudo make install
sudo ldconfig

3. Grab the latest revision, compile and install it :

cd ~/
svn checkout http://gnome2-globalmenu.googlecode.com/svn/trunk/ gnome-globalmenu-0.7
cd gnome-globalmenu-0.7
./autogen.sh
./configure --prefix=/usr
make
sudo make install

4. If you had globalmenu before and have this line in your ~/.gnomerc or ~/.profile : remove it

export GTK_MODULES=globalmenu-gnome

Globalmenu can now be enabled via the preferences dialog of the applet. Right Click on the applet, choose preferences and then check the first option : “Enable Global Menu For GTK Applications”.

That’s all.