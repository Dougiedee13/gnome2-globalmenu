#labels ubuntu,Featured
a step by step guide for Gutsy Gibbon

THIS IS A DRAFT. DO NOT USE. IT KILLS KITTENS AND COMPUTERS TOO
= Introduction =
a step by step guide which assumes that you've never compiled anything on your system, and that this system is Gutsy Gibbon.

==Installing with debs==
===on a 32 bit system===
  * Open a terminal
  * Create a folder
    {{{ sudo mkdir global-menu-install}}} 
  * Go to this folder
    {{{ cd global-menu-install}}}
  * Get the patched gtk debs with the following instruction
    {{{ wget http://gnome2-globalmenu.googlecode.com/files/patched-gtk-ubuntu-gutsy-i386-part1.tar.gz}}}
   
    {{{ wget http://gnome2-globalmenu.googlecode.com/files/patched-gtk-ubuntu-gutsy-i386-part2.tar.gz}}}
  * Unarchive them
    {{{tar xvf patched-gtk-ubuntu-gutsy-i386-part1.tar.gz }}}
    
    {{{tar xvf patched-gtk-ubuntu-gutsy-i386-part2.tar.gz }}}
  * Install them
    {{{sudo dpkg -i *.deb}}} 
  * Get the MacMenu applet files with the following instruction
    {{{ wget http://gnome2-globalmenu.googlecode.com/files/globalmenu-applet-v3.172.tar.bz2 }}}
  * Unarchive it
    {{{tar xvf globalmenu-applet-v3.172.tar.bz2}}}
    
    {{{cd globalmenu-applet-v3.172}}}
  * We now have to add the files to the system.
  * Let's copy it in the right directory:  
    {{{sudo cp GNOME_GlobalMenuApplet.server /usr/lib/bonobo/servers/GNOME_GlobalMenuApplet.server}}}
    
    {{{sudo cp -R original/gnome2-globalmenu-applet  /usr/lib/gnome-applets/}}}

  * Right-click on the panel and click add to the panel. Look for Global Menubar. Add it. And voila. It should work.

===on a 64 bit system===

==Installing from SVN==


===Installing gtk2-aqd===

  * Prepare your system to add the gtk2-aqd patches
    # {{{sudo apt-get install build-essential}}}
    # {{{mkdir packages}}}
    # {{{cd packages}}}
    # {{{mkdir gtk-aqd-3}}}
    # {{{cd gtk-aqd-3}}}
    # {{{apt-get source libgtk2.0-0}}}
    # {{{sudo apt-get build-dep libgtk2.0-0}}}
    # {{{sudo apt-get install fakeroot}}}

  * Get the attached gtkmenubar.patch with the following instruction
    # {{{ wget http://gnome2-globalmenu.googlecode.com/files/gtkmenubar.patch.tar.bz2}}} 
  * Alternatively, you can get it directly the latest version from svn by using the two following commands:
    # Install {{{svn sudo apt-get install svn   }}}
    # Download the patches  {{{svn checkout http://gnome2-globalmenu.googlecode.com/svn/trunk/gtk2-aqd/ }}}
    # Using cd, head to the directory gtk2-aqd that's been downloaded {{{ cd gtk2-aqd}}}

  * It should be inside the folder gtk-aqd-3. 
  * Open the series file found on the same folder 
      {{{ sudo gedit <name of the series file>}}}
  * Add a new line containing {{{gtkmenubar.patch}}}
  * Save and exit Gedit.
  * Now on the terminal, we'll patch gtk
    # {{{cd gtk+2.0-2.12.0}}}
    # {{{dpkg-buildpackage -r fakeroot}}}


===Installing the applet itself===

  * Install libgtk2.0-dev, intltool,libwnck-dev, libpanelapplet-2.0, gdk-2.0 
      {{{sudo aptitude install libgtk2.0-dev intltool libwnck-dev libpanelapplet2-dev gdk-imlib11-dev}}}
  * Download the tarball
      {{{wget http://gnome2-globalmenu.googlecode.com/files/gnome2-globalmenu-applet-0.2.1.tar.gz }}}
  * extract it 
      {{{tar zxvf gnome2-globalmenu-applet-0.2.1.tar.gz}}}
  * go to the newly extracted directory 
      {{{cd gnome2-globalmenu-applet-0.2.1}}} 
  * Configure the tarball 
      {{{./configure}}}
  * Compile the program 
      {{{make}}}
  * Install checkinstall
      {{{sudo aptitude install checkinstall}}}
  * Create a deb from the compiled program
      {{{sudo checkinstall}}}
  * We now have to add a bonobo server file where {{{APP_LOCATION}}} is {{{/usr/local/libexec}}}

  # Download it: {{{wget http://gnome2-globalmenu.googlecode.com/files/GNOME_GlobalMenuApplet.server}}}
  # Let's copy it in the right directory:  {{{sudo cp GNOME_GlobalMenuApplet.server /usr/lib/bonobo/servers/GNOME_GlobalMenuApplet.server}}}
  # Right-click on the panel and click add to the panel. Look for Global Menubar. Add it. And voila. It should work.