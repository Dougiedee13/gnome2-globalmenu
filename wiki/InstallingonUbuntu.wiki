#summary a step by step guide for Gutsy/Hardy
#labels ubuntu,Phase-Deploy

THIS IS A DRAFT. DO NOT USE. IT KILLS KITTENS AND COMPUTERS TOO
= Introduction =
a step by step guide which assumes that you've never compiled anything on your system, and that this system is Gutsy Gibbon.
==Installing from the GNOME Global Menu PPA (Intrepid) ==

Ensure libgnomenu is loaded as a Gtk module by

`export GTK_MODULES=globalmenu-gnome`

A good place to do this is in ~/.profile, ~/.bash_profile, or ~/.gnomerc, it depends on the flavor of linux.

What I did was create ~/.gnomerc (if that file doest already exist) and added this to the file, l then uncommented the lines
I wanted enabled.
`# Uncomment to load the GTK module`

`#export GTK_MODULES=globalmenu-gnome`

`# Uncomment to tell the GTK module to open a Gtk`

`# TreeView for all menus in the application you start.`

`#export GNOMENU_FUN=1`

`# Uncomment to disable global menu.`

`#export GNOMENU_DISABLED=1`

`# Uncomment to print a lot of debugging messages`

`#export GNOMENU_VERBOSE=1`

`# Uncomment to save the debugging messages to the given file.`

`#export GNOMENU_LOG_FILE=/tmp/gnomenu.log`

`# uncomment to disable the plugin for specific programs.`

`#export GTK_MENUBAR_NO_MAC="fast-user-switch-applet"`

I soon plan to add a script to the deb package to make it easier.

apt sources.list entries

`deb http://ppa.launchpad.net/gnome2-globalmenu/ubuntu intrepid main`

`deb-src http://ppa.launchpad.net/gnome2-globalmenu/ubuntu intrepid main`

==Installing with debs==
===on a 32 bit system===
  * Open a terminal
  * Create a folder
    {{{ mkdir global-menu-install}}} 
  * Go to this folder
    {{{ cd global-menu-install}}}
  * Get the patched gtk debs and panel applet with the following instruction
    * For Gusty:
    {{{ wget http://gnome2-globalmenu.googlecode.com/files/gnome-globalmenu-0.4.2_ubuntu-gusty-svn679.tar.gz}}}
    * For Hardy:
    {{{wget http://gnome2-globalmenu.googlecode.com/files/gnome-globalmenu-0.4-svn964.tar.gz}}}
   
    
  * Unarchive them
    * For Gusty:
    {{{tar zxvf gnome-globalmenu-0.4.2_ubuntu-gusty-svn679.tar.gz }}}
    * For Hardy:
    {{{tar zxvf gnome-globalmenu-0.4-svn964.tar.gz}}}
  
  * Install them
    * For Gusty:
     # {{{cd gnome-globalmenu }}}
     # {{{sudo dpkg -i *.deb}}}
    * For Hardy:
     # {{{cd globalmenu}}}
     # {{{sudo dpkg -i *.deb}}}

  * *NOTE* if you have installed previous version of gnome-globalmenu and meet a dependency error of {{{libgtk-directfb-2.0-0 libgtk-directfb-2.0-dev libgtk2.0-0-dbg libgtk2.0-dev}}}, you can just remove them, since they are not installed by default.
   {{{sudo dpkg -r libgtk-directfb-2.0-0 libgtk-directfb-2.0-dev libgtk2.0-0-dbg libgtk2.0-dev}}}
    
    if you still meet some errors here, try
{{{
    sudo dpkg -i --force-overwrite *.deb 
}}}

   * Edit ~/.gnomerc (Gusty Only)
     * You won't need this step for Hardy
     # add a line to it
     {{{export GTK_MODULES=libgnomenu }}}

  * Restart your computer and right-click on the panel and click add to the panel. Look for Global Menubar. Add it. And voila. It should work.

===on a 64 bit system===
There is not yet packages for 64 bit ubuntu. You can build from source by yourself. I am not sure if you also need to build the i386 binary in order to support global menu for i386 programs on the x86-64 platform.

==Installing from source==

Refer to the 
[http://ayozone.org/2008/03/12/global-menu-the-new-gnome-macmenu/  guide] written by Ayoli.