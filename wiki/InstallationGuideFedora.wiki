#labels Phase-Deploy
#How to install Global Menu on Fedora ?

= Installation Guide =
You can install by RPMs. Or else you can build from source. See BuildFromScratch

This article assumes you are installing global menu RPMS for F9. For F8 the steps shall be same if one grab the source and use the rpms generated by `./rpm` at the root of the source tree and `./rpm` at `gtk+-aqd`.

== Install Global Menu and Patched GTK By RPMs ==
Install Global Menu library and servers. They are located at
[http://code.google.com/p/gnome2-globalmenu/downloads/list?can=2&q=fedora-packages&colspec=Filename+Summary+Uploaded+Size+DownloadCount fedora-packages]
  * Install `libgnomenu`
  * Install servers. You can choose one or several among
    * `gnome-globalmenu-applet`
    * `xfce-globalmenu-plugin`
    * `gtk-globalmenu-server`
Then you have a Global Menu Environment set up.

However no current GTK application is build up on the Global Menu widget (GnomenuMenuBar). To add global menu to your legacy GTK application, `gtk2` is to be patched. Obtain it at 
[http://code.google.com/p/gnome2-globalmenu/downloads/list?can=2&q=gtk2-aqd+rpm&colspec=Filename+Summary+Uploaded+Size+DownloadCount gtk2-aqd(rpm)] .
  * The patched `gtk2` is named as `gtk2-aqd`, after the person who introduced Global Menu to GTK.
  * There is compatibility issue for different `gtk2-aqd` versions and `libgnomenu` versions during the life time of 0.4 series.
  * Because of a defect in the design, *NOBODY* can really tell when the compatibility breaks.
  * Tips: the easiest way is always to use the *latest* SVN snapshot for *BOTH*

After installation of RPMS, one post-inst work needs to be done:

  * Choose one of the servers, and set it up.
    * for `gnome-globalmenu-applet`, you can simplely add the applet 'GNOME Global Menu Applet' to your toppanel.
    * for `xfce-globalmenu-plugin`, since it don't work yet, you can't use it.
    * for `gtk-globalmenu-server`, add it to your session autostarts.
  * You may also want to edit `~/.libgnomenu.conf` to include quirks. There are some examples in `/etc/libgnomenu.conf`.
  * then log in and log out.

If you don't want Global Menu anymore, you have several choices:
  * Avoid any of the menu server to start up; applications will seamlessly go back to local menu bar mode.
  * Remove `libgnomenu`. The servers you installed will be removed as a dependency.
  * Remove `gtk2-aqd` and install `gtk2`. If you use graphical package manager, don't quit before you install `gtk2`. If you did quit. `Ctrl-Alt-F1` and login as `root`,
{{{
   yum install gtk2
}}}

You can do either or all of the above steps.